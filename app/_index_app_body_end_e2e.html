<!--  Webupdates specific body-end start -->

<!-- Usersnap widget: always on -->
<script type="text/javascript">
    (function () {
        var s = document.createElement("script");
        s.type = "text/javascript";
        s.async = true;
        s.src = '//api.usersnap.com/load/b175ab64-1ecd-40a6-b5e3-ff8a1516fe6f.js';
        var x = document.getElementsByTagName('script')[0];
        x.parentNode.insertBefore(s, x);
    })();
</script>

<!-- API button -->

<div id="button-container">
    <a class="api-button" href="https://github.com/RIPE-NCC/whois/wiki/WHOIS-REST-API">
        API
    </a>
</div>

<script src="bower_components/angular-mocks/angular-mocks.js"></script>
<script type="text/javascript">

    angular.module('dbWebAppE2E', ['dbWebApp', 'ngMockE2E'])
            .run(function ($httpBackend, $log) {

                var mockGet = {};

                // prepare the mocks
                Object.keys(mockGet).forEach(
                        function (key) {
                            $httpBackend.whenGET(key).respond(
                                    mockGet[key].status || 200,
                                    mockGet[key].data,
                                    {'Content-type': 'application/json'}
                            );
                        });
                $httpBackend.whenGET(/^api\//).respond(function (method, req) {
                    $log.error('Error caused by missing mock', method, req);
                    return [404, 'Missing mock'];
                });
                $httpBackend.whenGET(/.*/).passThrough();
            });

    angular.element(document).ready(function () {
        angular.bootstrap(document, ['dbWebAppE2E']);
    });

</script>
<!--  Webupdates specific body-end end -->
