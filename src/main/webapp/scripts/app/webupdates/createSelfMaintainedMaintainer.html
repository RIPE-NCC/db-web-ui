<div ng-if="hasErrors()" class="alert-expired alert alert-danger">
    <p ng-repeat="error in errors">{{error.plainText}}</p>
</div>

<div ng-if="hasWarnings()" class="alert alert-warning">
    <p ng-repeat="warning in warnings">{{warning.plainText}}</p>
</div>

<div ng-if="hasInfos()" class="alert alert-warning">
    <p ng-repeat="info in infos">{{info.plainText}}</p>
</div>

<form id="createForm">
    <section class="form-fields maintainer-fields">
        <strong>Please select your administrative contact before creating the shared maintainer object</strong>
        <article class="maintainer-icons">
            <span class="fa fa-search maintainer-search-icon"></span>
            <a ng-click="isHelpShown = !isHelpShown" class="btn btn-default ga-help-attr maintainer-help" id="help">
                <span class="fa fa-question"></span>
            </a>
        </article>
        <ui-select multiple="true"
                   theme="selectize"
                   ng-model="adminC.object"
                   close-on-select="true"
                   on-select="onAdminCAdded($item, $model)"
                   on-remove="onAdminCRemoved($item, $model)"
                   ng-if="uiSelectTemplateReady">
            <ui-select-match>{{$item.key}}</ui-select-match>
            <ui-select-choices repeat="adminC in adminC.alternatives track by adminC.key"
                               refresh="adminCAutocomplete($select.search)"
                               refresh-delay="100">
                <div class="option">
                    <span class="title">{{adminC.key}}</span>
                </div>
            </ui-select-choices>
        </ui-select>
        <div collapse="!isHelpShown" class="text field-description">
            Specifies the identifier of a registered mntner object used for authorisation of operations performed with the object that contains this attribute.
            Made up of letters, digits, the character underscore "_",
            and the character hyphen "-"; the first character of a name
            must be a letter, and the last character of a name must be a
            letter or a digit.  The following words are reserved by
            RPSL, and they can not be used as names:
            <br/><br/>
            any as-any rs-any peeras and or not atomic from to at
            action accept announce except refine networks into inbound
            outbound
            <br/><br/>
            Names starting with certain prefixes are reserved for
            certain object types.  Names starting with "as-" are
            reserved for as set names.  Names starting with "rs-" are
            reserved for route set names.  Names starting with "rtrs-"
            are reserved for router set names. Names starting with
            "fltr-" are reserved for filter set names. Names starting
            with "prng-" are reserved for peering set names. Names
            starting with "irt-" are reserved for irt names.
        </div>
    </section>

    <section class="visible-field-form" ng-if="hasAdminC()">
        <h1>Create a new self-maintained maintainer object</h1>
        <ul class="form-fields appeared-fields">

            <li ng-repeat="attribute in (maintainerAttributes | filter: {name: '!mnt-by'} | filter: {name: '!source'} | filter: {name: '!upd-to'} | filter: {name:'!auth'} | filter: {name:'!admin-c'})" class="form-group input-group">
                <label>{{attribute.name}}</label>
                <span ng-if="attribute.$$error" class="text-error">{{attribute.$$error}}</span>

                <input type="text" name="mntner" ng-model="attribute.value"
                       ng-required="{{attribute.$$meta.$$mandatory}}" class="form-control"
                       typeahead="value for value in referenceAutocomplete( attribute.name, $viewValue, attribute.$$meta.$$refs)"
                       typeahead-min-length="2"/>
                <div class="text field-description" collapse="!isHelpShown">
                    {{attribute.$$meta.$$description}}
                </div>
                <ul class="input-group-btn">
                    <li>
                        <a id="help" class="btn btn-default ga-help-attr" ng-click="isHelpShown = !isHelpShown">
                            <span class="fa fa-question" ></span>
                        </a>
                    </li>
                </ul>
            </li>
        </ul>
        <button ng-click="submit()" class="blue-button pull-right ga-createobj-create" style="border:0;">Create</button>

        <button ng-click="cancel()" class="blue-button pull-right ga-createobj-create" style="border:0;">Cancel</button>

        <p class="help-block terms-txt pull-left">By submitting this form you explicitly express your agreement with the <a
            href="http://www.ripe.net/db/support/db-terms-conditions.html" target="_blank">RIPE Database Terms and Conditions</a></p>
    </section>
</form>
